<div class="d-flex">
  <!-- Sidebar Fijo -->
  <div id="sidebar" class="bg-white shadow-sm" style="width: 250px; height: 100vh; position: fixed; overflow-y: auto;">
    <div class="p-4 text-center">
      <img src="assets/logo.png" alt="Logo" style="width: 80px; height: 80px;" />
      <h5 class="mt-2 text-primary">Lucia Entrenadora</h5>
    </div>
    <div class="list-group list-group-flush">
      <!-- Menú Administración -->
      <div class="menu-category">
        <div class="menu-header d-flex justify-content-between align-items-center px-3 py-2 bg-light" (click)="toggleMenu('administracion')">
          <span class="fw-bold text-primary"><i class="bi bi-gear me-2"></i>Administración</span>
          <i class="bi" [ngClass]="isMenuOpen('administracion') ? 'bi-chevron-down' : 'bi-chevron-right'"></i>
        </div>
        <div [ngClass]="{'collapse': true, 'show': isMenuOpen('administracion')}">
          <a routerLink="/dashboard/usuarios" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-4">
            <i class="bi bi-people me-2"></i> Ver Usuarios
          </a>
        </div>
      </div>

      <!-- Menú Parametrización -->
      <div class="menu-category">
        <div class="menu-header d-flex justify-content-between align-items-center px-3 py-2 bg-light mt-2" (click)="toggleMenu('parametrizacion')">
          <span class="fw-bold text-primary"><i class="bi bi-sliders me-2"></i>Parametrización</span>
          <i class="bi" [ngClass]="isMenuOpen('parametrizacion') ? 'bi-chevron-down' : 'bi-chevron-right'"></i>
        </div>
        <div [ngClass]="{'collapse': true, 'show': isMenuOpen('parametrizacion')}">
          <!-- Submenú Ejercicios -->
          <div class="submenu-category">
            <div class="submenu-header d-flex justify-content-between align-items-center px-3 py-2" (click)="toggleSubmenu('ejercicios')">
              <span class="text-muted ps-4"><i class="bi bi-lightning me-2"></i>Ejercicios</span>
              <i class="bi" [ngClass]="isSubmenuOpen('ejercicios') ? 'bi-chevron-down' : 'bi-chevron-right'"></i>
            </div>
            <div [ngClass]="{'collapse': true, 'show': isSubmenuOpen('ejercicios')}">
              <a routerLink="/dashboard/ejercicios" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-5">
                <i class="bi bi-list-check me-2"></i> Ver Ejercicios
              </a>
            </div>
          </div>
          
          <!-- Submenú Fases -->
          <div class="submenu-category">
            <div class="submenu-header d-flex justify-content-between align-items-center px-3 py-2" (click)="toggleSubmenu('fases')">
              <span class="text-muted ps-4"><i class="bi bi-layers me-2"></i>Fases</span>
              <i class="bi" [ngClass]="isSubmenuOpen('fases') ? 'bi-chevron-down' : 'bi-chevron-right'"></i>
            </div>
            <div [ngClass]="{'collapse': true, 'show': isSubmenuOpen('fases')}">
              <a routerLink="/dashboard/fases" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-5">
                <i class="bi bi-list-check me-2"></i> Ver Fases
              </a>
            </div>
          </div>
          
          <!-- Submenú Rutinas -->
          <div class="submenu-category">
            <div class="submenu-header d-flex justify-content-between align-items-center px-3 py-2" (click)="toggleSubmenu('rutinas')">
              <span class="text-muted ps-4"><i class="bi bi-calendar-week me-2"></i>Rutinas</span>
              <i class="bi" [ngClass]="isSubmenuOpen('rutinas') ? 'bi-chevron-down' : 'bi-chevron-right'"></i>
            </div>
            <div [ngClass]="{'collapse': true, 'show': isSubmenuOpen('rutinas')}">
              <a routerLink="/dashboard/rutinas" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-5">
                <i class="bi bi-list-check me-2"></i> Ver Rutinas
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Menú Herramientas de Desarrollo -->
      <div class="menu-category">
        <div class="menu-header d-flex justify-content-between align-items-center px-3 py-2 bg-light mt-2" (click)="toggleMenu('herramientas')">
          <span class="fw-bold text-primary"><i class="bi bi-tools me-2"></i>Herramientas</span>
          <i class="bi" [ngClass]="isMenuOpen('herramientas') ? 'bi-chevron-down' : 'bi-chevron-right'"></i>
        </div>
        <div [ngClass]="{'collapse': true, 'show': isMenuOpen('herramientas')}">
          <a routerLink="/dashboard/herramientas/deportes" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-4">
            <i class="bi bi-trophy me-2"></i> Deportes
          </a>
          <a routerLink="/dashboard/herramientas/posiciones" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-4">
            <i class="bi bi-geo-alt me-2"></i> Posiciones
          </a>
          <a routerLink="/dashboard/db-test" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-4">
            <i class="bi bi-database-check me-2"></i> Probar Conexión BD
          </a>
        </div>
      </div>

      <!-- Cerrar Sesión -->
      <a routerLink="/login" class="list-group-item list-group-item-action bg-transparent border-0 text-danger mt-3 ps-3">
        <i class="bi bi-box-arrow-right me-2"></i> Cerrar Sesión
      </a>
    </div>
  </div>

  <!-- Contenido Principal -->
  <div class="flex-grow-1 p-4" style="margin-left: 250px; background-color: #ffffff;">
    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="mb-0">Dashboard</h2>
      <div class="dropdown">
        <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="perfilDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          Perfil
        </button>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="perfilDropdown">
          <li><a class="dropdown-item" href="#"><i class="bi bi-person me-2"></i>Mi Perfil</a></li>
          <li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i>Configuración</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item text-danger" routerLink="/login"><i class="bi bi-box-arrow-right me-2"></i>Cerrar Sesión</a></li>
        </ul>
      </div>
    </div>
    
    <!-- Contenido de la ruta actual -->
    <router-outlet></router-outlet>
  </div>
</div>