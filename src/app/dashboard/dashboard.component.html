<div class="d-flex">
  <!-- Sidebar Fijo -->
  <div id="sidebar" class="bg-white shadow-sm" style="width: 250px; height: 100vh; position: fixed; overflow-y: auto;">
    <div class="p-4 text-center">
      <img src="assets/logo.png" alt="Logo" style="width: 80px; height: 80px;" />
      <h5 class="mt-2 text-primary">Lucia Entrenadora</h5>
    </div>
    <div class="list-group list-group-flush">
      <!-- Menú Administración -->
      <div class="menu-category">
        <div class="menu-header d-flex justify-content-between align-items-center px-3 py-2 bg-light" (click)="toggleMenu('administracion')">
          <span class="fw-bold text-primary"><i class="bi bi-gear me-2"></i>Administración</span>
          <i class="bi" [ngClass]="isMenuOpen('administracion') ? 'bi-chevron-down' : 'bi-chevron-right'"></i>
        </div>
        <div [ngClass]="{'collapse': true, 'show': isMenuOpen('administracion')}">
          <a routerLink="/dashboard/usuarios" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-4">
            <i class="bi bi-people me-2"></i> Ver Usuarios
          </a>
          <a routerLink="/dashboard/usuarios/crear" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-4">
            <i class="bi bi-person-plus me-2"></i> Crear Usuario
          </a>
          <a routerLink="/dashboard/usuarios/editar" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-4">
            <i class="bi bi-pencil-square me-2"></i> Editar Usuario
          </a>
        </div>
      </div>

      <!-- Menú Entrenamiento -->
      <div class="menu-category">
        <div class="menu-header d-flex justify-content-between align-items-center px-3 py-2 bg-light mt-2" (click)="toggleMenu('entrenamiento')">
          <span class="fw-bold text-primary"><i class="bi bi-activity me-2"></i>Entrenamiento</span>
          <i class="bi" [ngClass]="isMenuOpen('entrenamiento') ? 'bi-chevron-down' : 'bi-chevron-right'"></i>
        </div>
        <div [ngClass]="{'collapse': true, 'show': isMenuOpen('entrenamiento')}">
          <!-- Submenú Ejercicios -->
          <div class="submenu">
            <div class="submenu-header d-flex justify-content-between align-items-center px-3 py-2" (click)="toggleMenu('ejercicios'); $event.stopPropagation()">
              <span class="fw-medium text-muted ps-2"><i class="bi bi-lightning me-2"></i>Ejercicios</span>
              <i class="bi" [ngClass]="isMenuOpen('ejercicios') ? 'bi-chevron-down' : 'bi-chevron-right'"></i>
            </div>
            <div [ngClass]="{'collapse': true, 'show': isMenuOpen('ejercicios')}">
              <a routerLink="/dashboard/ejercicios" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-5">
                <i class="bi bi-list-ul me-2"></i> Ver Ejercicios
              </a>
              <a routerLink="/dashboard/ejercicios/crear" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-5">
                <i class="bi bi-plus-circle me-2"></i> Crear Ejercicio
              </a>
              <a routerLink="/dashboard/ejercicios/editar" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-5">
                <i class="bi bi-pencil-square me-2"></i> Editar Ejercicio
              </a>
            </div>
          </div>

          <!-- Submenú Fases -->
          <div class="submenu">
            <div class="submenu-header d-flex justify-content-between align-items-center px-3 py-2" (click)="toggleMenu('fases'); $event.stopPropagation()">
              <span class="fw-medium text-muted ps-2"><i class="bi bi-diagram-3 me-2"></i>Fases</span>
              <i class="bi" [ngClass]="isMenuOpen('fases') ? 'bi-chevron-down' : 'bi-chevron-right'"></i>
            </div>
            <div [ngClass]="{'collapse': true, 'show': isMenuOpen('fases')}">
              <a routerLink="/dashboard/fases" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-5">
                <i class="bi bi-list-ul me-2"></i> Ver Fases
              </a>
              <a routerLink="/dashboard/fases/crear" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-5">
                <i class="bi bi-plus-circle me-2"></i> Crear Fase
              </a>
            </div>
          </div>

          <!-- Submenú Rutinas -->
          <div class="submenu">
            <div class="submenu-header d-flex justify-content-between align-items-center px-3 py-2" (click)="toggleMenu('rutinas'); $event.stopPropagation()">
              <span class="fw-medium text-muted ps-2"><i class="bi bi-calendar-check me-2"></i>Rutinas</span>
              <i class="bi" [ngClass]="isMenuOpen('rutinas') ? 'bi-chevron-down' : 'bi-chevron-right'"></i>
            </div>
            <div [ngClass]="{'collapse': true, 'show': isMenuOpen('rutinas')}">
              <a routerLink="/dashboard/rutinas" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-5">
                <i class="bi bi-list-ul me-2"></i> Ver Rutinas
              </a>
              <a routerLink="/dashboard/rutinas/crear" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-5">
                <i class="bi bi-plus-circle me-2"></i> Crear Rutina
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Menú Parametrización -->
      <div class="menu-category">
        <div class="menu-header d-flex justify-content-between align-items-center px-3 py-2 bg-light mt-2" (click)="toggleMenu('parametrizacion')">
          <span class="fw-bold text-primary"><i class="bi bi-sliders me-2"></i>Parametrización</span>
          <i class="bi" [ngClass]="isMenuOpen('parametrizacion') ? 'bi-chevron-down' : 'bi-chevron-right'"></i>
        </div>
        <div [ngClass]="{'collapse': true, 'show': isMenuOpen('parametrizacion')}">
          <a routerLink="/dashboard/parametros/tipos-ejercicio" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-4">
            <i class="bi bi-tag me-2"></i> Tipos de Ejercicio
          </a>
          <a routerLink="/dashboard/parametros/categorias" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-4">
            <i class="bi bi-folder me-2"></i> Categorías
          </a>
          <a routerLink="/dashboard/parametros/niveles" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-4">
            <i class="bi bi-bar-chart-steps me-2"></i> Niveles
          </a>
          <a routerLink="/dashboard/parametros/objetivos" routerLinkActive="active" class="list-group-item list-group-item-action bg-transparent border-0 text-muted ps-4">
            <i class="bi bi-bullseye me-2"></i> Objetivos
          </a>
        </div>
      </div>

      <!-- Cerrar Sesión -->
      <a (click)="logout()" class="list-group-item list-group-item-action bg-transparent border-0 text-danger mt-3" style="cursor: pointer;">
        <i class="bi bi-box-arrow-left me-2"></i> Cerrar Sesión
      </a>
    </div>
  </div>

  <!-- Contenido Principal -->
  <div class="flex-grow-1 p-4" style="margin-left: 250px; background-color: #f8f9fa;">
    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="text-primary">Dashboard</h2>
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
          Perfil
        </button>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="#">Configuración</a></li>
          <li><a class="dropdown-item" (click)="logout()" style="cursor: pointer;">Cerrar Sesión</a></li>
        </ul>
      </div>
    </div>

    <!-- Contenido dinámico de las rutas hijas -->
    <router-outlet></router-outlet>
  </div>
</div>